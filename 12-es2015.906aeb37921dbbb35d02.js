(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ILzh:function(e,t,o){"use strict";o.r(t),o.d(t,"SeshatPageModule",(function(){return C}));var n=o("ofXK"),i=o("3Pt+"),a=o("TEn/"),s=o("tyNb"),c=o("9dvU"),r=o("fXoL"),l=o("mrSG");function u(e,t){if(1&e){const e=r.Nb();r.Mb(0,"ion-icon",4),r.Ub("click",(function(){return r.ec(e),r.Wb().clearSelection()})),r.Lb()}}let b=(()=>{class e{constructor(e){this.alertCtrl=e,this.categoryTypes=c.a.meta.seshat.idea.categoryTypes,this.anyBtn={name:"any",type:"radio",label:"Any Type",checked:!0},this.cancelBtn={text:"Cancel",role:"cancel",cssClass:"secondary"},this.okayBtn={text:"Okay",cssClass:"primary",handler:e=>{e&&(this.value=this.categoryTypes[e],this.selectedValue=e)}},this.defaultValue=void 0,this.categoryType=new r.n,this.initValues()}set selectedValue(e){this._selectedValue=e,this.categoryType.emit(this.selectedValue)}get selectedValue(){return this._selectedValue}ngOnInit(){}initValues(){null!=this.defaultValue?(this.selectedValue=this.defaultValue,this.value=this.categoryTypes[this.defaultValue]):(this.selectedValue=null,this.value="None")}openSelect(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select a Category",inputs:[{name:"name",type:"radio",label:this.categoryTypes.name,value:"name"},{name:"occupation",type:"radio",label:this.categoryTypes.occupation,value:"occupation"},{name:"dialog",type:"radio",label:this.categoryTypes.dialog,value:"dialog"},{name:"setting",type:"radio",label:this.categoryTypes.setting,value:"setting"},{name:"plotDare",type:"radio",label:this.categoryTypes.plotDare,value:"plotDare"}],buttons:[this.cancelBtn,Object.assign(Object.assign({},this.okayBtn),{handler:e=>{if(e){switch(e){case"name":this.nameSelect();break;case"occupation":this.occupationSelect();break;case"plotDare":this.plotDareSelect();break;default:this.value=this.categoryTypes[e]}this.selectedValue=e}}})]});yield e.present()}))}nameSelect(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select a Name Type",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"name"}),{name:"female",type:"radio",label:this.categoryTypes.femName,value:"femName"},{name:"male",type:"radio",label:this.categoryTypes.maleName,value:"maleName"},{name:"last",type:"radio",label:this.categoryTypes.lastName,value:"lastName"}],buttons:[this.cancelBtn,this.okayBtn]});yield e.present()}))}occupationSelect(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select an Occupation Type",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"occupation"}),{name:"modern",type:"radio",label:this.categoryTypes.modern,value:"modern"},{name:"archaic",type:"radio",label:this.categoryTypes.archaic,value:"archaic"}],buttons:[this.cancelBtn,this.okayBtn]});yield e.present()}))}plotDareSelect(){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select a Plot or a Dare",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"plotDare"}),{name:"plot",type:"radio",label:this.categoryTypes.plot,value:"plot"},{name:"dare",type:"radio",label:this.categoryTypes.dare,value:"dare"}],buttons:[this.cancelBtn,this.okayBtn]});yield e.present()}))}clearSelection(){this.initValues()}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(a.a))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-category-type-select"]],inputs:{defaultValue:"defaultValue"},outputs:{categoryType:"categoryType"},decls:5,vars:2,consts:[["color","dark"],["position","floating"],["readonly","true",3,"value","click"],["name","close","slot","end","class","ion-align-self-end",3,"click",4,"ngIf"],["name","close","slot","end",1,"ion-align-self-end",3,"click"]],template:function(e,t){1&e&&(r.Mb(0,"ion-item",0),r.Mb(1,"ion-label",1),r.ic(2,"Category / Type"),r.Lb(),r.Mb(3,"ion-input",2),r.Ub("click",(function(){return t.openSelect()})),r.Lb(),r.hc(4,u,1,0,"ion-icon",3),r.Lb()),2&e&&(r.xb(3),r.bc("value",t.value),r.xb(1),r.bc("ngIf",t.selectedValue))},directives:[a.p,a.q,a.o,a.G,n.k,a.n],styles:[""]}),e})();var m=o("peOo");const d=["scroll"];function p(e,t){if(1&e){const e=r.Nb();r.Mb(0,"ion-col",9),r.Mb(1,"ion-card",10),r.Ub("click",(function(){r.ec(e);const o=t.$implicit;return r.Wb().selectCommand(o.idx)})),r.Mb(2,"ion-card-header",5),r.Mb(3,"ion-card-subtitle"),r.ic(4),r.Lb(),r.Mb(5,"ion-card-title"),r.Ib(6,"ion-icon",11),r.ic(7),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&e){const e=t.$implicit,o=r.Wb();r.xb(1),r.bc("color",o.selectedCmd===e.idx?"primary":"dark"),r.xb(3),r.jc(e.summary),r.xb(2),r.bc("name",e.icon)("src",e.iconSrc),r.xb(1),r.kc("\xa0",e.name,"")}}function h(e,t){1&e&&(r.Mb(0,"ion-card-subtitle"),r.Mb(1,"ion-text",19),r.ic(2,"One or more fields are invalid."),r.Lb(),r.Lb())}function f(e,t){if(1&e){const e=r.Nb();r.Mb(0,"app-category-type-select",22),r.Ub("categoryType",(function(t){return r.ec(e),r.Wb(3).setCategory(t)})),r.Lb()}}function y(e,t){if(1&e&&(r.Mb(0,"ion-item",23),r.Mb(1,"ion-label",24),r.ic(2,"Rating"),r.Lb(),r.Mb(3,"ion-range",25),r.Mb(4,"ion-label",2),r.ic(5),r.Lb(),r.Mb(6,"ion-label",26),r.ic(7),r.Lb(),r.Lb(),r.Lb()),2&e){const e=r.Wb().$implicit,t=r.Wb(2);r.bc("formGroup",t.formGroup),r.xb(3),r.bc("min",e.min)("max",e.max)("formControlName",e.controlName)("color",t.computeRangeColour()),r.xb(2),r.jc(t.ratings[t.formGroup.controls.rating.value.lower]),r.xb(2),r.jc(t.ratings[t.formGroup.controls.rating.value.upper])}}function g(e,t){if(1&e&&(r.Kb(0),r.hc(1,f,1,0,"app-category-type-select",20),r.hc(2,y,8,7,"ion-item",21),r.Jb()),2&e){const e=t.$implicit;r.xb(1),r.bc("ngIf","Category / Type"===e.name),r.xb(1),r.bc("ngIf","Rating"===e.name)}}function v(e,t){if(1&e){const e=r.Nb();r.Mb(0,"ion-row"),r.Mb(1,"ion-col",12),r.Mb(2,"ion-card",13),r.Mb(3,"ion-card-header",5),r.hc(4,h,3,0,"ion-card-subtitle",8),r.Lb(),r.Mb(5,"ion-card-content",14),r.Mb(6,"form",15),r.Mb(7,"ion-list",16),r.hc(8,g,3,2,"ng-container",17),r.Lb(),r.Mb(9,"ion-button",18),r.Ub("click",(function(){return r.ec(e),r.Wb().generateCommand()})),r.ic(10,"Generate"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&e){const e=r.Wb();r.xb(4),r.bc("ngIf",e.formError),r.xb(2),r.bc("formGroup",e.formGroup),r.xb(2),r.bc("ngForOf",e.commandOpts)}}function x(e,t){if(1&e&&(r.Mb(0,"ion-row"),r.Mb(1,"ion-col",27),r.Ib(2,"app-copy-card",28),r.Lb(),r.Lb()),2&e){const e=r.Wb();r.xb(2),r.bc("command",e.getCommand())}}const L=[{path:"",component:(()=>{class e{constructor(){this.commands=c.a.commands.seshat.map((e,t)=>Object.assign(Object.assign({},e),{idx:t+1})),this.ratings=c.a.meta.seshat.idea.ratings.values,this.selectedCmd=null,this.submitted=!1,this.formGroup=null,this.commandOpts=null,this.formError=!1}ngOnInit(){}ionViewWillLeave(){null!=this.formSub&&this.formSub.unsubscribe()}selectCommand(e){if(this.selectedCmd=e,"Idea"===this.findSelected().name){this.commandOpts=c.a.commandOpts.seshat.idea;const e={};this.commandOpts.forEach(t=>{e[t.controlName]=new i.a(void 0,[])}),e.rating=new i.a(c.a.meta.seshat.idea.ratings.defaults,[]),this.formGroup=new i.c(e),this.formSub=this.formGroup.valueChanges.subscribe(e=>{this.submitted=!1})}else null!=this.formSub&&(this.formSub.unsubscribe(),this.formSub=null),this.commandOpts=null,this.formGroup=null,this.submitted=!1,this.formError=!1}generateCommand(){this.formGroup.valid?(this.formError=!1,this.submitted=!0,setTimeout(()=>this.container.nativeElement.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"}),100)):this.formError=!0}findSelected(){return this.commands.find(e=>e.idx===this.selectedCmd)}isPrivacy(){return"Privacy Policy"===this.findSelected().name}isIdea(){return"Idea"===this.findSelected().name}isCommandSubmitted(){return this.isIdea()&&this.submitted}getCommand(){return`${c.a.commandToken.seshat}${this.processCommand()}`}processCommand(){const e=this.findSelected();let t=e.command;if("Privacy Policy"!==e.name&&this.submitted){const e=this.formGroup.value;if(e.categoryType){const{commandFlags:o,commandValues:n}=c.a.meta.seshat.idea;t+=` ${o[e.categoryType]} ${n[e.categoryType]}`}if(e.rating){const o=e.rating,{commandFlags:n,values:i,defaults:a}=c.a.meta.seshat.idea.ratings;if(o.upper===o.lower)t+=` ${n.single} ${i[o.upper]}`;else{console.log(o.upper),console.log(a.upper);const e=a.lower===o.lower,s=a.upper===o.upper;console.log(s),e||(t+=` ${n.lower} ${i[o.lower]}`),s||(t+=` ${n.upper} ${i[o.upper]}`)}}}return t}setCategory(e){console.log(e),this.formGroup.controls.categoryType.setValue(e)}computeRangeColour(){const e=this.formGroup.controls.rating.value.upper;return e<3?"success":e<4?"warning":"danger"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Bb({type:e,selectors:[["app-seshat"]],viewQuery:function(e,t){var o;1&e&&r.lc(d,!0),2&e&&r.dc(o=r.Vb())&&(t.container=o.first)},decls:16,vars:5,consts:[[1,""],["scroll",""],["slot","start"],["color","primary",3,"routerLink","routerDirection"],["name","chevron-back"],[1,"ion-text-center"],["slot","end",1,"ion-page-invisible"],["size","12","size-md","6","size-lg","5","size-xl","4","push-lg","1","push-xl","2",4,"ngFor","ngForOf"],[4,"ngIf"],["size","12","size-md","6","size-lg","5","size-xl","4","push-lg","1","push-xl","2"],[3,"color","click"],[3,"name","src"],["size","12","size-md","8","size-lg","6","size-xl","4","offset-md","2","offset-lg","3","offset-xl","4"],["color","dark"],[1,"ion-text-center","selectable-text"],[3,"formGroup"],[1,"ion-no-padding"],[4,"ngFor","ngForOf"],["expand","block",3,"click"],["color","danger"],[3,"categoryType",4,"ngIf"],["color","dark",3,"formGroup",4,"ngIf"],[3,"categoryType"],["color","dark",3,"formGroup"],["position","floating"],["snaps","true","dualKnobs","true","ticks","true",3,"min","max","formControlName","color"],["slot","end"],["size","12","size-lg","10","size-xl","8","offset-lg","1","offset-xl","2"],[3,"command"]],template:function(e,t){1&e&&(r.Mb(0,"div",0,1),r.Mb(2,"ion-toolbar"),r.Mb(3,"ion-buttons",2),r.Mb(4,"ion-button",3),r.Ib(5,"ion-icon",4),r.Lb(),r.Lb(),r.Mb(6,"h3",5),r.ic(7,"Seshat the Scribe Command Generation"),r.Lb(),r.Mb(8,"ion-buttons",6),r.Mb(9,"ion-button"),r.Ib(10,"ion-icon",4),r.Lb(),r.Lb(),r.Lb(),r.Mb(11,"ion-grid"),r.Mb(12,"ion-row"),r.hc(13,p,8,5,"ion-col",7),r.Lb(),r.hc(14,v,11,3,"ion-row",8),r.hc(15,x,3,1,"ion-row",8),r.Lb(),r.Lb()),2&e&&(r.xb(4),r.bc("routerLink","")("routerDirection","back"),r.xb(9),r.bc("ngForOf",t.commands),r.xb(1),r.bc("ngIf",t.selectedCmd&&t.isIdea()),r.xb(1),r.bc("ngIf",t.selectedCmd&&(t.isPrivacy()||t.isCommandSubmitted())))},directives:[a.z,a.d,a.c,a.E,s.h,a.n,a.l,a.w,n.j,n.k,a.j,a.e,a.g,a.h,a.i,a.f,i.l,i.i,i.d,a.r,a.x,b,a.p,a.q,a.u,a.F,i.h,i.b,m.a],styles:[""]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(L)],s.j]}),e})();var T=o("ZfhW");let k=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[n.c,a.A,i.j]]}),e})(),C=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[n.c,i.e,a.A,M,T.a,i.j,k]]}),e})()}}]);