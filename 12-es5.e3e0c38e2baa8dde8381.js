!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ILzh:function(t,a,o){"use strict";o.r(a),o.d(a,"SeshatPageModule",(function(){return G}));var i=o("ofXK"),r=o("3Pt+"),c=o("TEn/"),s=o("tyNb"),l=o("9dvU"),u=o("fXoL"),b=o("mrSG");function m(e,t){if(1&e){var n=u.Nb();u.Mb(0,"ion-icon",4),u.Ub("click",(function(){return u.bc(n),u.Wb().clearSelection()})),u.Lb()}}var f,p=((f=function(){function t(n){var a=this;e(this,t),this.alertCtrl=n,this.categoryTypes=l.a.meta.seshat.idea.categoryTypes,this.anyBtn={name:"any",type:"radio",label:"Any Type",checked:!0},this.cancelBtn={text:"Cancel",role:"cancel",cssClass:"secondary"},this.okayBtn={text:"Okay",cssClass:"primary",handler:function(e){e&&(a.value=a.categoryTypes[e],a.selectedValue=e)}},this.defaultValue=void 0,this.categoryType=new u.n,this.initValues()}return n(t,[{key:"ngOnInit",value:function(){}},{key:"initValues",value:function(){null!=this.defaultValue?(this.selectedValue=this.defaultValue,this.value=this.categoryTypes[this.defaultValue]):(this.selectedValue=null,this.value="None")}},{key:"openSelect",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Select a Category",inputs:[{name:"name",type:"radio",label:this.categoryTypes.name,value:"name"},{name:"occupation",type:"radio",label:this.categoryTypes.occupation,value:"occupation"},{name:"dialog",type:"radio",label:this.categoryTypes.dialog,value:"dialog"},{name:"setting",type:"radio",label:this.categoryTypes.setting,value:"setting"},{name:"plotDare",type:"radio",label:this.categoryTypes.plotDare,value:"plotDare"}],buttons:[this.cancelBtn,Object.assign(Object.assign({},this.okayBtn),{handler:function(e){if(e){switch(e){case"name":n.nameSelect();break;case"occupation":n.occupationSelect();break;case"plotDare":n.plotDareSelect();break;default:n.value=n.categoryTypes[e]}n.selectedValue=e}}})]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"nameSelect",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Select a Name Type",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"name"}),{name:"female",type:"radio",label:this.categoryTypes.femName,value:"femName"},{name:"male",type:"radio",label:this.categoryTypes.maleName,value:"maleName"},{name:"last",type:"radio",label:this.categoryTypes.lastName,value:"lastName"}],buttons:[this.cancelBtn,this.okayBtn]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"occupationSelect",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Select an Occupation Type",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"occupation"}),{name:"modern",type:"radio",label:this.categoryTypes.modern,value:"modern"},{name:"archaic",type:"radio",label:this.categoryTypes.archaic,value:"archaic"}],buttons:[this.cancelBtn,this.okayBtn]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"plotDareSelect",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Select a Plot or a Dare",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"plotDare"}),{name:"plot",type:"radio",label:this.categoryTypes.plot,value:"plot"},{name:"dare",type:"radio",label:this.categoryTypes.dare,value:"dare"}],buttons:[this.cancelBtn,this.okayBtn]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"clearSelection",value:function(){this.initValues()}},{key:"selectedValue",set:function(e){this._selectedValue=e,this.categoryType.emit(this.selectedValue)},get:function(){return this._selectedValue}}]),t}()).\u0275fac=function(e){return new(e||f)(u.Hb(c.a))},f.\u0275cmp=u.Bb({type:f,selectors:[["app-category-type-select"]],inputs:{defaultValue:"defaultValue"},outputs:{categoryType:"categoryType"},decls:5,vars:2,consts:[["color","dark"],["position","floating"],["readonly","true",3,"value","click"],["name","close","slot","end","class","ion-align-self-end",3,"click",4,"ngIf"],["name","close","slot","end",1,"ion-align-self-end",3,"click"]],template:function(e,t){1&e&&(u.Mb(0,"ion-item",0),u.Mb(1,"ion-label",1),u.fc(2,"Category / Type"),u.Lb(),u.Mb(3,"ion-input",2),u.Ub("click",(function(){return t.openSelect()})),u.Lb(),u.ec(4,m,1,0,"ion-icon",3),u.Lb()),2&e&&(u.xb(3),u.Zb("value",t.value),u.xb(1),u.Zb("ngIf",t.selectedValue))},directives:[c.p,c.q,c.o,c.G,i.i,c.n],styles:[""]}),f),d=o("peOo"),h=["scroll"];function y(e,t){if(1&e){var n=u.Nb();u.Mb(0,"ion-col",9),u.Mb(1,"ion-card",10),u.Ub("click",(function(){u.bc(n);var e=t.$implicit;return u.Wb().selectCommand(e.idx)})),u.Mb(2,"ion-card-header",5),u.Mb(3,"ion-card-subtitle"),u.fc(4),u.Lb(),u.Mb(5,"ion-card-title"),u.Ib(6,"ion-icon",11),u.fc(7),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){var a=t.$implicit,o=u.Wb();u.xb(1),u.Zb("color",o.selectedCmd===a.idx?"primary":"dark"),u.xb(3),u.gc(a.summary),u.xb(2),u.Zb("name",a.icon)("src",a.iconSrc),u.xb(1),u.hc("\xa0",a.name,"")}}function g(e,t){1&e&&(u.Mb(0,"ion-card-subtitle"),u.Mb(1,"ion-text",19),u.fc(2,"One or more fields are invalid."),u.Lb(),u.Lb())}function v(e,t){if(1&e){var n=u.Nb();u.Mb(0,"app-category-type-select",22),u.Ub("categoryType",(function(e){return u.bc(n),u.Wb(3).setCategory(e)})),u.Lb()}}function k(e,t){if(1&e&&(u.Mb(0,"ion-item",23),u.Mb(1,"ion-label",24),u.fc(2,"Rating"),u.Lb(),u.Mb(3,"ion-range",25),u.Mb(4,"ion-label",2),u.fc(5),u.Lb(),u.Mb(6,"ion-label",26),u.fc(7),u.Lb(),u.Lb(),u.Lb()),2&e){var n=u.Wb().$implicit,a=u.Wb(2);u.Zb("formGroup",a.formGroup),u.xb(3),u.Zb("min",n.min)("max",n.max)("formControlName",n.controlName)("color",a.computeRangeColour()),u.xb(2),u.gc(a.ratings[a.formGroup.controls.rating.value.lower]),u.xb(2),u.gc(a.ratings[a.formGroup.controls.rating.value.upper])}}function x(e,t){if(1&e&&(u.Kb(0),u.ec(1,v,1,0,"app-category-type-select",20),u.ec(2,k,8,7,"ion-item",21),u.Jb()),2&e){var n=t.$implicit;u.xb(1),u.Zb("ngIf","Category / Type"===n.name),u.xb(1),u.Zb("ngIf","Rating"===n.name)}}function w(e,t){if(1&e){var n=u.Nb();u.Mb(0,"ion-row"),u.Mb(1,"ion-col",12),u.Mb(2,"ion-card",13),u.Mb(3,"ion-card-header",5),u.ec(4,g,3,0,"ion-card-subtitle",8),u.Lb(),u.Mb(5,"ion-card-content",14),u.Mb(6,"form",15),u.Mb(7,"ion-list",16),u.ec(8,x,3,2,"ng-container",17),u.Lb(),u.Mb(9,"ion-button",18),u.Ub("click",(function(){return u.bc(n),u.Wb().generateCommand()})),u.fc(10,"Generate"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){var a=u.Wb();u.xb(4),u.Zb("ngIf",a.formError),u.xb(2),u.Zb("formGroup",a.formGroup),u.xb(2),u.Zb("ngForOf",a.commandOpts)}}function L(e,t){if(1&e&&(u.Mb(0,"ion-row"),u.Mb(1,"ion-col",27),u.Ib(2,"app-copy-card",28),u.Lb(),u.Lb()),2&e){var n=u.Wb();u.xb(2),u.Zb("command",n.getCommand())}}var T,C,M,S,O=[{path:"",component:(T=function(){function t(){e(this,t),this.commands=l.a.commands.seshat.map((function(e,t){return Object.assign(Object.assign({},e),{idx:t+1})})),this.ratings=l.a.meta.seshat.idea.ratings.values,this.selectedCmd=null,this.submitted=!1,this.formGroup=null,this.commandOpts=null,this.formError=!1}return n(t,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillLeave",value:function(){null!=this.formSub&&this.formSub.unsubscribe()}},{key:"selectCommand",value:function(e){var t=this;if(this.selectedCmd=e,"Idea"===this.findSelected().name){this.commandOpts=l.a.commandOpts.seshat.idea;var n={};this.commandOpts.forEach((function(e){n[e.controlName]=new r.a(void 0,[])})),n.rating=new r.a(l.a.meta.seshat.idea.ratings.defaults,[]),this.formGroup=new r.c(n),this.formSub=this.formGroup.valueChanges.subscribe((function(e){t.submitted=!1}))}else null!=this.formSub&&(this.formSub.unsubscribe(),this.formSub=null),this.commandOpts=null,this.formGroup=null,this.submitted=!1,this.formError=!1}},{key:"generateCommand",value:function(){var e=this;this.formGroup.valid?(this.formError=!1,this.submitted=!0,setTimeout((function(){return e.container.nativeElement.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"})}),100)):this.formError=!0}},{key:"findSelected",value:function(){var e=this;return this.commands.find((function(t){return t.idx===e.selectedCmd}))}},{key:"isPrivacy",value:function(){return"Privacy Policy"===this.findSelected().name}},{key:"isIdea",value:function(){return"Idea"===this.findSelected().name}},{key:"isCommandSubmitted",value:function(){return this.isIdea()&&this.submitted}},{key:"getCommand",value:function(){return"".concat(l.a.commandToken.seshat).concat(this.processCommand())}},{key:"processCommand",value:function(){var e=this.findSelected(),t=e.command;if("Privacy Policy"!==e.name&&this.submitted){var n=this.formGroup.value;if(n.categoryType){var a=l.a.meta.seshat.idea,o=a.commandFlags,i=a.commandValues;t+=" ".concat(o[n.categoryType]," ").concat(i[n.categoryType])}if(n.rating){var r=n.rating,c=l.a.meta.seshat.idea.ratings,s=c.commandFlags,u=c.values,b=c.defaults;if(r.upper===r.lower)t+=" ".concat(s.single," ").concat(u[r.upper]);else{console.log(r.upper),console.log(b.upper);var m=b.lower===r.lower,f=b.upper===r.upper;console.log(f),m||(t+=" ".concat(s.lower," ").concat(u[r.lower])),f||(t+=" ".concat(s.upper," ").concat(u[r.upper]))}}}return t}},{key:"setCategory",value:function(e){console.log(e),this.formGroup.controls.categoryType.setValue(e)}},{key:"computeRangeColour",value:function(){var e=this.formGroup.controls.rating.value.upper;return e<3?"success":e<4?"warning":"danger"}}]),t}(),T.\u0275fac=function(e){return new(e||T)},T.\u0275cmp=u.Bb({type:T,selectors:[["app-seshat"]],viewQuery:function(e,t){var n;1&e&&u.ic(h,!0),2&e&&u.ac(n=u.Vb())&&(t.container=n.first)},decls:16,vars:5,consts:[[1,""],["scroll",""],["slot","start"],["color","primary",3,"routerLink","routerDirection"],["name","chevron-back"],[1,"ion-text-center"],["slot","end",1,"ion-page-invisible"],["size","12","size-md","6","size-lg","5","size-xl","4","push-lg","1","push-xl","2",4,"ngFor","ngForOf"],[4,"ngIf"],["size","12","size-md","6","size-lg","5","size-xl","4","push-lg","1","push-xl","2"],[3,"color","click"],[3,"name","src"],["size","12","size-md","8","size-lg","6","size-xl","4","offset-md","2","offset-lg","3","offset-xl","4"],["color","dark"],[1,"ion-text-center","selectable-text"],[3,"formGroup"],[1,"ion-no-padding"],[4,"ngFor","ngForOf"],["expand","block",3,"click"],["color","danger"],[3,"categoryType",4,"ngIf"],["color","dark",3,"formGroup",4,"ngIf"],[3,"categoryType"],["color","dark",3,"formGroup"],["position","floating"],["snaps","true","dualKnobs","true","ticks","true",3,"min","max","formControlName","color"],["slot","end"],["size","12","size-lg","10","size-xl","8","offset-lg","1","offset-xl","2"],[3,"command"]],template:function(e,t){1&e&&(u.Mb(0,"div",0,1),u.Mb(2,"ion-toolbar"),u.Mb(3,"ion-buttons",2),u.Mb(4,"ion-button",3),u.Ib(5,"ion-icon",4),u.Lb(),u.Lb(),u.Mb(6,"h3",5),u.fc(7,"Seshat the Scribe Command Generation"),u.Lb(),u.Mb(8,"ion-buttons",6),u.Mb(9,"ion-button"),u.Ib(10,"ion-icon",4),u.Lb(),u.Lb(),u.Lb(),u.Mb(11,"ion-grid"),u.Mb(12,"ion-row"),u.ec(13,y,8,5,"ion-col",7),u.Lb(),u.ec(14,w,11,3,"ion-row",8),u.ec(15,L,3,1,"ion-row",8),u.Lb(),u.Lb()),2&e&&(u.xb(4),u.Zb("routerLink","")("routerDirection","back"),u.xb(9),u.Zb("ngForOf",t.commands),u.xb(1),u.Zb("ngIf",t.selectedCmd&&t.isIdea()),u.xb(1),u.Zb("ngIf",t.selectedCmd&&(t.isPrivacy()||t.isCommandSubmitted())))},directives:[c.z,c.d,c.c,c.E,s.h,c.n,c.l,c.w,i.h,i.i,c.j,c.e,c.g,c.h,c.i,c.f,r.l,r.i,r.d,c.r,c.x,p,c.p,c.q,c.u,c.F,r.h,r.b,d.a],styles:[""]}),T)}],j=((C=function t(){e(this,t)}).\u0275mod=u.Fb({type:C}),C.\u0275inj=u.Eb({factory:function(e){return new(e||C)},imports:[[s.j.forChild(O)],s.j]}),C),I=o("ZfhW"),V=((S=function t(){e(this,t)}).\u0275mod=u.Fb({type:S}),S.\u0275inj=u.Eb({factory:function(e){return new(e||S)},imports:[[i.b,c.A,r.j]]}),S),G=((M=function t(){e(this,t)}).\u0275mod=u.Fb({type:M}),M.\u0275inj=u.Eb({factory:function(e){return new(e||M)},imports:[[i.b,r.e,c.A,j,I.a,r.j,V]]}),M)}}])}();