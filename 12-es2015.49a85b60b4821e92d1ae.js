(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ILzh:function(e,t,n){"use strict";n.r(t),n.d(t,"SeshatPageModule",(function(){return O}));var a=n("ofXK"),i=n("3Pt+"),o=n("TEn/"),s=n("tyNb"),c=n("9dvU"),r=n("xVyF"),l=n("fXoL"),u=n("mrSG");function b(e,t){if(1&e){const e=l.Nb();l.Mb(0,"ion-icon",4),l.Ub("click",(function(){return l.ec(e),l.Wb().clearSelection()})),l.Lb()}}let m=(()=>{class e{constructor(e){this.alertCtrl=e,this.categoryTypes=c.a.meta.seshat.idea.categoryTypes,this.anyBtn={name:"any",type:"radio",label:"Any Type",checked:!0},this.cancelBtn={text:"Cancel",role:"cancel",cssClass:"secondary"},this.okayBtn={text:"Okay",cssClass:"primary",handler:e=>{e&&(this.value=this.categoryTypes[e],this.selectedValue=e)}},this.defaultValue=void 0,this.categoryType=new l.n,this.initValues()}set selectedValue(e){this._selectedValue=e,this.categoryType.emit(this.selectedValue)}get selectedValue(){return this._selectedValue}ngOnInit(){}initValues(){null!=this.defaultValue?(this.selectedValue=this.defaultValue,this.value=this.categoryTypes[this.defaultValue]):(this.selectedValue=null,this.value="None")}openSelect(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select a Category",inputs:[{name:"name",type:"radio",label:this.categoryTypes.name,value:"name"},{name:"occupation",type:"radio",label:this.categoryTypes.occupation,value:"occupation"},{name:"dialog",type:"radio",label:this.categoryTypes.dialog,value:"dialog"},{name:"setting",type:"radio",label:this.categoryTypes.setting,value:"setting"},{name:"plotDare",type:"radio",label:this.categoryTypes.plotDare,value:"plotDare"}],buttons:[this.cancelBtn,Object.assign(Object.assign({},this.okayBtn),{handler:e=>{if(e){switch(e){case"name":this.nameSelect();break;case"occupation":this.occupationSelect();break;case"plotDare":this.plotDareSelect();break;default:this.value=this.categoryTypes[e]}this.selectedValue=e}}})]});yield e.present()}))}nameSelect(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select a Name Type",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"name"}),{name:"female",type:"radio",label:this.categoryTypes.femName,value:"femName"},{name:"male",type:"radio",label:this.categoryTypes.maleName,value:"maleName"},{name:"last",type:"radio",label:this.categoryTypes.lastName,value:"lastName"}],buttons:[this.cancelBtn,this.okayBtn]});yield e.present()}))}occupationSelect(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select an Occupation Type",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"occupation"}),{name:"modern",type:"radio",label:this.categoryTypes.modern,value:"modern"},{name:"archaic",type:"radio",label:this.categoryTypes.archaic,value:"archaic"}],buttons:[this.cancelBtn,this.okayBtn]});yield e.present()}))}plotDareSelect(){return Object(u.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Select a Plot or a Dare",inputs:[Object.assign(Object.assign({},this.anyBtn),{value:"plotDare"}),{name:"plot",type:"radio",label:this.categoryTypes.plot,value:"plot"},{name:"dare",type:"radio",label:this.categoryTypes.dare,value:"dare"}],buttons:[this.cancelBtn,this.okayBtn]});yield e.present()}))}clearSelection(){this.initValues()}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(o.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-category-type-select"]],inputs:{defaultValue:"defaultValue"},outputs:{categoryType:"categoryType"},decls:5,vars:2,consts:[["color","dark"],["position","floating"],["readonly","true",3,"value","click"],["name","close","slot","end","class","ion-align-self-end",3,"click",4,"ngIf"],["name","close","slot","end",1,"ion-align-self-end",3,"click"]],template:function(e,t){1&e&&(l.Mb(0,"ion-item",0),l.Mb(1,"ion-label",1),l.ic(2,"Category / Type"),l.Lb(),l.Mb(3,"ion-input",2),l.Ub("click",(function(){return t.openSelect()})),l.Lb(),l.hc(4,b,1,0,"ion-icon",3),l.Lb()),2&e&&(l.xb(3),l.bc("value",t.value),l.xb(1),l.bc("ngIf",t.selectedValue))},directives:[o.p,o.q,o.o,o.G,a.k,o.n],styles:[""]}),e})();var d=n("peOo");const p=["scroll"];function h(e,t){if(1&e){const e=l.Nb();l.Mb(0,"ion-col",9),l.Mb(1,"ion-card",10),l.Ub("click",(function(){l.ec(e);const n=t.$implicit;return l.Wb().selectCommand(n.idx)})),l.Mb(2,"ion-card-header",5),l.Mb(3,"ion-card-subtitle"),l.ic(4),l.Lb(),l.Mb(5,"ion-card-title"),l.Ib(6,"ion-icon",11),l.ic(7),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&e){const e=t.$implicit,n=l.Wb();l.xb(1),l.bc("color",n.selectedCmd===e.idx?"primary":"dark"),l.xb(3),l.jc(e.summary),l.xb(2),l.bc("name",e.icon)("src",e.iconSrc),l.xb(1),l.kc("\xa0",e.name,"")}}function f(e,t){1&e&&(l.Mb(0,"ion-card-subtitle"),l.Mb(1,"ion-text",19),l.ic(2,"One or more fields are invalid."),l.Lb(),l.Lb())}function y(e,t){if(1&e){const e=l.Nb();l.Mb(0,"app-category-type-select",22),l.Ub("categoryType",(function(t){return l.ec(e),l.Wb(3).setCategory(t)})),l.Lb()}}function g(e,t){if(1&e&&(l.Mb(0,"ion-item",23),l.Mb(1,"ion-label",24),l.ic(2,"Rating"),l.Lb(),l.Mb(3,"ion-range",25),l.Mb(4,"ion-label",2),l.ic(5),l.Lb(),l.Mb(6,"ion-label",26),l.ic(7),l.Lb(),l.Lb(),l.Lb()),2&e){const e=l.Wb().$implicit,t=l.Wb(2);l.bc("formGroup",t.formGroup),l.xb(3),l.bc("min",e.min)("max",e.max)("formControlName",e.controlName)("color",t.computeRangeColour()),l.xb(2),l.jc(t.ratings[t.formGroup.controls.rating.value.lower]),l.xb(2),l.jc(t.ratings[t.formGroup.controls.rating.value.upper])}}function v(e,t){if(1&e&&(l.Kb(0),l.hc(1,y,1,0,"app-category-type-select",20),l.hc(2,g,8,7,"ion-item",21),l.Jb()),2&e){const e=t.$implicit;l.xb(1),l.bc("ngIf","Category / Type"===e.name),l.xb(1),l.bc("ngIf","Rating"===e.name)}}function x(e,t){if(1&e){const e=l.Nb();l.Mb(0,"ion-row"),l.Mb(1,"ion-col",12),l.Mb(2,"ion-card",13),l.Mb(3,"ion-card-header",5),l.hc(4,f,3,0,"ion-card-subtitle",8),l.Lb(),l.Mb(5,"ion-card-content",14),l.Mb(6,"form",15),l.Mb(7,"ion-list",16),l.hc(8,v,3,2,"ng-container",17),l.Lb(),l.Mb(9,"ion-button",18),l.Ub("click",(function(){return l.ec(e),l.Wb().generateCommand()})),l.ic(10,"Generate"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&e){const e=l.Wb();l.xb(4),l.bc("ngIf",e.formError),l.xb(2),l.bc("formGroup",e.formGroup),l.xb(2),l.bc("ngForOf",e.commandOpts)}}function L(e,t){if(1&e&&(l.Mb(0,"ion-row"),l.Mb(1,"ion-col",27),l.Ib(2,"app-copy-card",28),l.Lb(),l.Lb()),2&e){const e=l.Wb();l.xb(2),l.bc("command",e.getCommand())}}const M=[{path:"",component:(()=>{class e{constructor(){this.commands=c.a.commands.seshat.map((e,t)=>Object.assign(Object.assign({},e),{idx:t+1})),this.ratings=c.a.meta.seshat.idea.ratings.values,this.selectedCmd=null,this.submitted=!1,this.formGroup=null,this.commandOpts=null,this.formError=!1}ngOnInit(){}ionViewWillLeave(){null!=this.formSub&&this.formSub.unsubscribe()}selectCommand(e){if(this.selectedCmd=e,"Idea"===this.findSelected().name){this.commandOpts=c.a.commandOpts.seshat.idea;const e={};this.commandOpts.forEach(t=>{e[t.controlName]=new i.a(void 0,[])}),e.rating=new i.a(c.a.meta.seshat.idea.ratings.defaults,[]),this.formGroup=new i.c(e),this.formSub=this.formGroup.valueChanges.subscribe(e=>{this.submitted=!1})}else null!=this.formSub&&(this.formSub.unsubscribe(),this.formSub=null),this.commandOpts=null,this.formGroup=null,this.submitted=!1,this.formError=!1;Object(r.a)(this.container)}generateCommand(){this.formGroup.valid?(this.formError=!1,this.submitted=!0,Object(r.a)(this.container)):this.formError=!0}findSelected(){return this.commands.find(e=>e.idx===this.selectedCmd)}isPrivacy(){return"Privacy Policy"===this.findSelected().name}isIdea(){return"Idea"===this.findSelected().name}isCommandSubmitted(){return this.isIdea()&&this.submitted}getCommand(){return`${c.a.commandToken.seshat}${this.processCommand()}`}processCommand(){const e=this.findSelected();let t=e.command;if("Privacy Policy"!==e.name&&this.submitted){const e=this.formGroup.value;if(e.categoryType){const{commandFlags:n,commandValues:a}=c.a.meta.seshat.idea;t+=` ${n[e.categoryType]} ${a[e.categoryType]}`}if(e.rating){const n=e.rating,{commandFlags:a,values:i,defaults:o}=c.a.meta.seshat.idea.ratings;n.upper===n.lower?t+=` ${a.single} ${i[n.upper]}`:(o.lower===n.lower||(t+=` ${a.lower} ${i[n.lower]}`),o.upper===n.upper||(t+=` ${a.upper} ${i[n.upper]}`))}}return t}setCategory(e){this.formGroup.controls.categoryType.setValue(e)}computeRangeColour(){const e=this.formGroup.controls.rating.value.upper;return e<3?"success":e<4?"warning":"danger"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Bb({type:e,selectors:[["app-seshat"]],viewQuery:function(e,t){var n;1&e&&l.lc(p,!0),2&e&&l.dc(n=l.Vb())&&(t.container=n.first)},decls:16,vars:5,consts:[[1,""],["scroll",""],["slot","start"],["color","primary",3,"routerLink","routerDirection"],["name","chevron-back"],[1,"ion-text-center"],["slot","end",1,"ion-page-invisible"],["size","12","size-md","6","size-lg","5","size-xl","4","push-lg","1","push-xl","2",4,"ngFor","ngForOf"],[4,"ngIf"],["size","12","size-md","6","size-lg","5","size-xl","4","push-lg","1","push-xl","2"],[3,"color","click"],[3,"name","src"],["size","12","size-md","8","size-lg","6","size-xl","4","offset-md","2","offset-lg","3","offset-xl","4"],["color","dark"],[1,"ion-text-center","selectable-text"],[3,"formGroup"],[1,"ion-no-padding"],[4,"ngFor","ngForOf"],["expand","block",3,"click"],["color","danger"],[3,"categoryType",4,"ngIf"],["color","dark",3,"formGroup",4,"ngIf"],[3,"categoryType"],["color","dark",3,"formGroup"],["position","floating"],["snaps","true","dualKnobs","true","ticks","true",3,"min","max","formControlName","color"],["slot","end"],["size","12","size-lg","10","size-xl","8","offset-lg","1","offset-xl","2"],[3,"command"]],template:function(e,t){1&e&&(l.Mb(0,"div",0,1),l.Mb(2,"ion-toolbar"),l.Mb(3,"ion-buttons",2),l.Mb(4,"ion-button",3),l.Ib(5,"ion-icon",4),l.Lb(),l.Lb(),l.Mb(6,"h3",5),l.ic(7,"Seshat the Scribe Command Generation"),l.Lb(),l.Mb(8,"ion-buttons",6),l.Mb(9,"ion-button"),l.Ib(10,"ion-icon",4),l.Lb(),l.Lb(),l.Lb(),l.Mb(11,"ion-grid"),l.Mb(12,"ion-row"),l.hc(13,h,8,5,"ion-col",7),l.Lb(),l.hc(14,x,11,3,"ion-row",8),l.hc(15,L,3,1,"ion-row",8),l.Lb(),l.Lb()),2&e&&(l.xb(4),l.bc("routerLink","")("routerDirection","back"),l.xb(9),l.bc("ngForOf",t.commands),l.xb(1),l.bc("ngIf",t.selectedCmd&&t.isIdea()),l.xb(1),l.bc("ngIf",t.selectedCmd&&(t.isPrivacy()||t.isCommandSubmitted())))},directives:[o.z,o.d,o.c,o.E,s.h,o.n,o.l,o.w,a.j,a.k,o.j,o.e,o.g,o.h,o.i,o.f,i.l,i.i,i.d,o.r,o.x,m,o.p,o.q,o.u,o.F,i.h,i.b,d.a],styles:[""]}),e})()}];let k=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(M)],s.j]}),e})();var C=n("ZfhW");let T=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[a.c,o.A,i.j]]}),e})(),O=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[a.c,i.e,o.A,k,C.a,i.j,T]]}),e})()}}]);